#!/bin/bashPLY#spacewriterspaceSY60216PLY#space脚本功能:nohup.out日志文件的备份,只保留3个月log,不带参数PLYPLYIFS=$'space\t\n'PLYPLYlogBackDelte(){PLYTABpath_file=$1PLYTABifspace[space!space-dspace"${path_file%nohup.out}logBackup"space];thenPLYTABTABmkdirspace${path_file%nohup.out}logBackupPLYTABfiPLYTABrmspace-rfspace${path_file%nohup.out}logBackup/nohup_$(datespace-dspace"-4spacemonth"space+%Y%m).outPLYTABcpspace$1space${path_file%nohup.out}logBackup/nohup_$(datespace-dspace"-1spacemonth"space+%Y%m).outspace&&space:space>space$1PLY}PLYPLYforspaceispaceinspace$(findspace/opt/innerappspace-mindepthspace2space-maxdepthspace2space-namespacenohup.out)PLYdoPLYTABlogBackDeltespace$iPLYdonePLY
