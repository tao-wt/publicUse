#!/usr/bin/envspacepythonPLYPLYfromspacesocketspaceimportspace*PLYfromspacetimespaceimportspacectimePLYPLYHOSTspace=space'99.12.90.100'PLYPORTspace=space9716PLYBUFSIZEspace=space1024PLYADDRspace=space(HOST,PORT)PLYPLYtcpClispace=spacesocket(AF_INET,SOCK_STREAM)PLYtcpCli.connect(ADDR)PLY#tcpServer.bind(ADDR)PLY#tcpServer.listen(5)PLYPLYwhilespaceTrue:PLYspacespacespacespacespacespacespacespace#printspace"waitingspaceconnection..."PLYspacespacespacespacespacespacespacespace#tcpClient,addrspace=spacetcpServer.accept()PLYspacespacespacespacespacespacespacespace#printspace"acceptspaceconnectspacefrom:",addrPLYPLYspacespacespacespacespacespacespacespace#whilespaceTrue:PLYspacespacespacespacespacespacespacespacespacespacespacespacespacespacespacespace#dataspace=spacetcpClient.recv(BUFSIZE)PLYspacespacespacespacespacespacespacespacespacespacespacespacespacespacespacespace#ifspacenotspacedata:PLYspacespacespacespacespacespacespacespacespacespacespacespacespacespacespacespace#spacespacespacespacespacespacespacespacebreakPLYspacespacespacespacespacespacespacespacespacespacespacespacespacespacespacespace#tcpClient.send('[%s]space%s'space%(ctime(),data))PLYspacespacespacespacespacespacespacespacespacespacespacespacespacespacespacespace#printspacedataPLYTABdataspace=spaceraw_input('>space')PLYTABifspacenotspacedata:PLYTABTABbreakPLYTABtcpCli.send(data)PLYTABdata2space=spacetcpCli.recv(BUFSIZE)PLYTABifspacenotspacedata2:PLYTABTABbreakPLYTABprintspacedata2PLYspacespacespacespacespacespacespacespace#tcpClient.close()PLYtcpCli.close()PLYPLY
